# 信任演化博弈系统

## 项目概述
本项目基于《The Evolution of Trust》的核心博弈理论，构建了一个实时PVP对战系统，融合动态奖励机制，通过Socket.IO实现实时通信。

## 一、系统架构
1. **通信层**：基于Socket.IO实现实时通信
2. **数据层**：使用Redis存储玩家数据和游戏状态
3. **业务层**：实现游戏逻辑、匹配系统和奖励机制
4. **展示层**：提供测试客户端和数据可视化功能

## 二、核心玩法
1. **初始化**：新玩家获得初始分数100点
2. **匹配机制**：随机匹配对手进行博弈
3. **决策系统**：
   - 玩家可选择"合作"或"背叛"
   - 决策将影响双方得分
4. **游戏流程**：
   - 每轮结束后重新匹配新对手
   - 当玩家分数低于0或完成100轮后，结束游戏体验
5. **数据记录**：
   - 实时记录每轮得分、总分和行为选择
   - 所有数据存储于Redis中

## 三、安装步骤

### 前提条件
- 安装Node.js (v14+)
- 安装Redis服务器

### 安装依赖
```bash
npm install
```

### 配置环境变量
编辑项目根目录下的`.env`文件：
```
PORT=3000
REDIS_URL=redis://localhost:6379
```

## 四、运行指南

### 启动Redis服务器
在终端运行：
```bash
redis-server
```

### 启动游戏服务器
```bash
npm run dev
```

服务器将在`http://localhost:3000`启动，您可以通过浏览器访问此地址来使用测试客户端。

### 测试客户端使用说明
1. 打开浏览器访问`http://localhost:3000`
2. 点击"连接服务器"按钮
3. 点击"加入游戏"按钮等待匹配
4. 匹配成功后，选择"合作"或"背叛"
5. 查看游戏结果并等待新的匹配

## 五、多客户端测试

为了测试完整的游戏体验，您需要：
1. 在不同的浏览器或浏览器窗口中同时打开多个客户端
2. 分别在每个客户端中连接服务器并加入游戏
3. 系统会自动匹配玩家进行对战

## 六、API文档

详细的API文档请参考`API_DOCS.md`。 